@SHOW_STATUS
    FLAG:5 = 1
    CALL HEADING_1
    CALL HEADING_MASTER
    CALL HEADING_TARGET,TARGET
    CUSTOMDRAWLINE -
    SIF TFLAG == 0
        CALL TRAIN_BODY_STATUS
    ;CALL UPDATE_PRINT_PALAM(TARGET)

@TRAIN_BODY_STATUS ;显示部位状态
    CALL M_STATUS
    CALL B_STATUS
    CALL C_STATUS
    CALL U_STATUS
    CALL V_STATUS
    CALL A_STATUS
    CUSTOMDRAWLINE -

@M_STATUS
    PRINTFORML M:
@B_STATUS
    PRINTFORML B:
@C_STATUS
    PRINTFORML C:
@U_STATUS
    PRINTFORML U:
@V_STATUS
    PRINTFORML V:
@A_STATUS
    PRINTFORML A:


@EVENTTRAIN

@SHOW_USERCOM
    PRINTL
    CUSTOMDRAWLINE -
    PRINTC 能力显示 [901]
    PRINTC 状态显示 [902]
    PRINTC 结束调教 [903]


@UPDATE_PRINT_PALAM(ARG)
#DIM LCOUNT
#DIM NO_PALAM
#DIM BAR_SIZE
#DIM ROW_SIZE
#DIM BAR_MAX
#DIM BAR_COLOUR
#DIM PALAM_MAX

ROW_SIZE = 5
BAR_SIZE = 5
BAR_COLOUR = 0x6666FF
FOR LCOUNT, 0, 32
	LOCAL:0 = 0

	PRINTFORM %PALAMNAME:NO_PALAM%{GETPALAMLV(PALAM:ARG:NO_PALAM,10)}

	PALAM_MAX = 10
	
	IF GETPALAMLV(PALAM:ARG:NO_PALAM,10) > PALAM_MAX
		BAR_MAX = PALAMLV:PALAM_MAX
	ELSE
	 	BAR_MAX = PALAMLV:GETPALAMLV(PALAM:ARG:NO_PALAM,10) + 1
	ENDIF
	
	CALL PRINT_BAR(PALAM:ARG:NO_PALAM, BAR_MAX, BAR_SIZE, BAR_COLOUR)
	
	SETCOLOR BAR_COLOUR
	PRINTFORM %PALAM_NUM(PALAM:ARG:NO_PALAM)%　
	RESETCOLOR
	
	SIF ( (LCOUNT + 1) % ROW_SIZE) == 0
		PRINTL 

NEXT
SIF (LCOUNT + 1) % ROW_SIZE
	PRINTL 
PRINTL