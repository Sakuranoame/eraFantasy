@SHOW_STATUS
    #DIM MEMO_LINECOUNT
    REDRAW 1
    FLAG:5 = 1
    CALL HEADING_1
    CALL HEADING_MASTER
    CALL HEADING_TARGET,TARGET
    ;珠显示
    CALL UPDATE_PRINT_PALAM(TARGET)
    CUSTOMDRAWLINE -
    SIF TFLAG == 0
        CALL TRAIN_BODY_STATUS

@TRAIN_BODY_STATUS ;显示部位状态
    CALL M_STATUS
    CALL B_STATUS
    CALL C_STATUS
    CALL U_STATUS
    CALL V_STATUS
    CALL A_STATUS
    CUSTOMDRAWLINE -

@M_STATUS
    PRINTFORML Ｍ:
@B_STATUS
    PRINTFORML Ｂ:
@C_STATUS
    PRINTFORML Ｃ:
@U_STATUS
    PRINTFORML Ｕ:
@V_STATUS
    PRINTFORML Ｖ:
@A_STATUS
    PRINTFORML Ａ:
@F_STATUS
    PRINTFORML Ｆ:

@EVENTTRAIN

@SHOW_USERCOM
    PRINTL
    CUSTOMDRAWLINE -
    PRINTC 能力显示 [901]
    PRINTC 状态显示 [902]
    PRINTC 结束调教 [903]


@UPDATE_PRINT_PALAM(ARG)
#DIM LCOUNT
#DIM NO_PALAM
#DIM BAR_SIZE
#DIM ROW_SIZE
#DIM BAR_MAX
#DIM BAR_COLOUR
#DIM PALAM_MAX

ROW_SIZE = 5
BAR_SIZE = 5
BAR_COLOUR = 0x6666FF
FOR LCOUNT, 0, 26
	LOCAL:0 = 0
    NO_PALAM = PALAMLIST:LCOUNT
	PRINTFORM %PALAMNAME:NO_PALAM% LV:{GETPALAMLV(PALAM:ARG:NO_PALAM,10)}

	PALAM_MAX = 10
	
	IF GETPALAMLV(PALAM:ARG:NO_PALAM,10) > PALAM_MAX
		BAR_MAX = PALAMLV:PALAM_MAX
	ELSE
	 	BAR_MAX = PALAMLV:GETPALAMLV(PALAM:ARG:NO_PALAM,10) + 1
	ENDIF
	
	CALL PRINT_BAR(PALAM:ARG:NO_PALAM, BAR_MAX, BAR_SIZE, BAR_COLOUR)

    SIF ( (LCOUNT + 1) % ROW_SIZE) == 0
		PRINTL
NEXT
SIF (LCOUNT) % ROW_SIZE
	PRINTL 
PRINTL