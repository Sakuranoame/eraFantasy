@SHOW_STATUS
    #DIM MEMO_LINECOUNT
    REDRAW 1
    FLAG:5 = 1
    CALL TRAIN_UI
    ;珠显示
    CALL UPDATE_PRINT_PALAM(TARGET)
    CUSTOMDRAWLINE -

@EVENTTRAIN

@SHOW_USERCOM
    PRINTL
    CUSTOMDRAWLINE -
    PRINTC 能力显示 [2001]
    PRINTC 状态显示 [2002]
    PRINTC 结束调教 [2099]

@TRAIN_UI
    CALL DRAWLINES_CENTER("【 调教中 】")
    PRINTFORML 第{DAY}天 {FLAG:3}时{FLAG:4}分 所在地:{CFLAG}
    CUSTOMDRAWLINE -
    PRINTFORML %NAME:MASTER%
    PRINTBUTTON "←", 2095
    PRINT 体力:
	CALL PRINT_BAR(BASE:MASTER:0,MAXBASE:MASTER:0,10,　COLOR("体力"))
	PRINTFORM ({BASE:MASTER:0}/{MAXBASE:MASTER:0})
	PRINT 气力:
	CALL PRINT_BAR(BASE:MASTER:1,MAXBASE:MASTER:1,10,　COLOR("气力"))
	PRINTFORM ({BASE:MASTER:1}/{MAXBASE:MASTER:1}) 
	PRINT ＳＰ:
	CALL PRINT_BAR(BASE:MASTER:2,MAXBASE:MASTER:2,10,　COLOR("ＳＰ"))
	PRINTFORM ({BASE:MASTER:2}/{MAXBASE:MASTER:2})
    PRINTBUTTON "→", 2096
@UPDATE_PRINT_PALAM(ARG)
    #DIM LCOUNT
    #DIM BAR_SIZE
    #DIM BAR_MAX
    #DIM BAR_COLOUR
    #DIM PALAM_MAX
    #DIM PCOUNT

    BAR_SIZE = 5
    BAR_COLOUR = 0x6666FF
    FOR LCOUNT, 0, 100
        IF PALAMNAME:LCOUNT != ""
	        PRINTFORM %PALAMNAME:LCOUNT%LV:{GETPALAMLV(PALAM:ARG:LCOUNT,10)} 
            PALAM_MAX = 10
	        IF GETPALAMLV(PALAM:ARG:LCOUNT,10) > PALAM_MAX
	    	    BAR_MAX = PALAMLV:PALAM_MAX
	        ELSE
	     	    BAR_MAX = PALAMLV:GETPALAMLV(PALAM:ARG:LCOUNT,10) + 1
	        ENDIF
    
	        CALL PRINT_BAR(PALAM:ARG:LCOUNT, BAR_MAX, BAR_SIZE, BAR_COLOUR)
            PCOUNT += 1
            IF PCOUNT >= 6
                PRINTL
                PCOUNT = 0
            ENDIF
        ENDIF
    NEXT
    PRINTL