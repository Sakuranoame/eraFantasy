
@HEADING_1
	CUSTOMDRAWLINE -
	PRINTFORM 第{DAY}天 {FLAG:3}时{FLAG:4}分 所在地:{CFLAG} 
	IF FLAG:5 == 1
		PRINTFORML %CALLNAME:TARGET%调教中
	ELSE
		PRINTL
	ENDIF
	CUSTOMDRAWLINE -

@HEADING_MASTER
	PRINTFORML %NAME:MASTER%
	PRINT 体力:
	CALL PRINT_BAR(BASE:MASTER:0,MAXBASE:MASTER:0,25,0xFF0000)
	PRINTFORM ({BASE:MASTER:0}/{MAXBASE:MASTER:0})
	PRINT TP:
	CALL PRINT_BAR(BASE:MASTER:1,MAXBASE:MASTER:1,25,0x6666FF)
	PRINTFORM ({BASE:MASTER:1}/{MAXBASE:MASTER:1}) 
	PRINT 精力:
	CALL PRINT_BAR(BASE:MASTER:2,MAXBASE:MASTER:2,25,0xE5E5FF)
	PRINTFORML ({BASE:MASTER:2}/{MAXBASE:MASTER:2})

@HEADING_TARGET, ARG
	IF ARG >= 0
    	PRINTFORML %NAME:ARG% 好感:{CFLAG:ARG:6}
    	PRINT 体力:
		CALL PRINT_BAR(BASE:ARG:0,MAXBASE:ARG:0,25,0xFF0000)
		PRINTFORM ({BASE:ARG:0}/{MAXBASE:ARG:0})
		PRINT TP:
		CALL PRINT_BAR(BASE:ARG:1,MAXBASE:ARG:1,25,0x6666FF)
		PRINTFORM ({BASE:ARG:1}/{MAXBASE:ARG:1}) 
		PRINTFORML 好感:{CFLAG:ARG:6}
	ENDIF

@PRINT_BAR(ARG:1, ARG:2, ARG:3, ARG:4);当前值，最大值，长度，颜色
	#DIM LCOUNT
	#DIM BAR_COLOR
	#DIM BG_COLOR
	#DIMS BAR_CHARA
	#DIMS INS_CHARA

	SIF ARG:1 < 0
		ARG:1 = 0
	SIF ARG:2 < 0
		ARG:2 = 0

	PRINTPLAINFORM [

	BAR_CHARA = %UNICODE(0x2587)%

	BAR_COLOR = ARG:4

	SETCOLOR BAR_COLOR

	INS_CHARA = ARG:3

	BG_COLOR = (MAX(30, (BAR_COLOR/65536)/5)*65536 + MAX(30, ((BAR_COLOR/256)%256)/5)*256 + MAX(30, (BAR_COLOR%256)/5) )

	FOR LCOUNT, 0, ARG:3
		SIF ((ARG:1 * ARG:3 + ARG:2 - 1) / ARG:2) <= LCOUNT
			SETCOLOR BG_COLOR
			PRINTPLAINFORM %BAR_CHARA%
	NEXT

	RESETCOLOR

	PRINTPLAINFORM ]